"use strict";(self.webpackChunkdart_scores_counter=self.webpackChunkdart_scores_counter||[]).push([[877],{7877:(B,g,a)=>{a.r(g),a.d(g,{GameStatusModule:()=>M});var p=a(6019),c=a(1880),i=a(607),l=a(4835),u=a(8053),t=a(3668),y=a(1346),d=a(9701);let C=(()=>{class s{constructor(e){this.gameStore=e,this.gameConfig=new d.p,this.gameConfigSubscription=new y.w}ngOnInit(){this.subscribeToGameConfig()}ngOnDestroy(){this.gameConfigSubscription.unsubscribe()}subscribeToGameConfig(){this.gameConfigSubscription=this.gameStore.pipe((0,i.Ys)(l.RO)).pipe((0,u.U)(e=>e.data)).subscribe(e=>{this.gameConfig=e,console.log(e)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(i.yh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-game-info-bar"]],decls:11,vars:5,consts:[[1,"game-info-bar"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h2"),t._uU(2),t.qZA(),t._uU(3," Legs: "),t.TgZ(4,"b"),t._uU(5),t.qZA(),t._UZ(6,"br"),t._uU(7," Sets: "),t.TgZ(8,"b"),t._uU(9),t.qZA(),t._UZ(10,"br"),t.qZA()),2&e&&(t.xp6(2),t.Oqu(null==n.gameConfig?null:n.gameConfig.points),t.xp6(3),t.AsE("",null==n.gameConfig||null==n.gameConfig.legs?null:n.gameConfig.legs.mode," ",null==n.gameConfig||null==n.gameConfig.legs?null:n.gameConfig.legs.value,""),t.xp6(4),t.AsE("",null==n.gameConfig||null==n.gameConfig.sets?null:n.gameConfig.sets.mode," ",null==n.gameConfig||null==n.gameConfig.sets?null:n.gameConfig.sets.value,""))},styles:[".game-info-bar[_ngcontent-%COMP%]{border:.5px dotted black;text-align:center;background-color:#c5f1c5}"]}),s})();const b=new Map([[170,"T20 T20 BULL"],[169,"NO SHOTOUT"],[168,"NO SHOTOUT"],[167,"T20 T19 BULL"],[166,"NO SHOTOUT"],[165,"NO SHOTOUT"],[164,"T20 T18 BULL"],[163,"NO SHOTOUT"],[162,"NO SHOTOUT"],[161,"T20 T17 BULL"],[160,"T20 T20 D20"],[159,"NO SHOTOUT"],[158,"T20 T20 D19"],[157,"T20 T19 D20"],[156,"T20 T20 D18"],[155,"T20 T19 D19"],[154,"T20 T18 D20"],[153,"T20 T19 D18"],[152,"T20 T20 D16"],[151,"T20 T17 D20"],[150,"T20 T18 D18"],[149,"T20 T19 D16"],[148,"T20 T16 D20"],[147,"T19 T18 D18"],[146,"T20 T18 D16"],[145,"T20 T15 D20"],[144,"T18 T18 D18"],[143,"T20 T17 D16"],[142,"T19 T15 D20"],[141,"T18 T17 D18"],[140,"T20 T20 D10"],[139,"T17 T16 D20"],[138,"T18 T16 D18"],[137,"T19 T16 D16"],[136,"T16 T16 D20"],[135,"T18 T15 T18"],[134,"T20 T14 D16"],[133,"T20 T11 D20"],[132,"T20 T12 D18"],[131,"T19 T14 D16"],[130,"T20 20 BULL"],[129,"T19 T12 D18"],[128,"T18 T14 D16"],[127,"T20 T17 D8"],[126,"T19 19 BULL"],[125,"T20 T11 D16"],[124,"T18 20 BULL"],[123,"T19 T10 D18"],[122,"T18 T12 D16"],[121,"T20 T7 D20"],[120,"T20 20 D20"],[119,"T20 19 D20"],[118,"T20 18 D20"],[117,"T20 17 D20"],[116,"T20 16 D20"],[115,"T20 15 D20"],[114,"T20 14 D20"],[113,"T20 13 D20"],[112,"T20 20 D16"],[111,"T20 19 D16"],[110,"T20 18 D16"],[109,"T20 17 16"],[108,"T20 16 D16"],[107,"T19 BULL"],[106,"T20 14 D16"],[105,"T20 13 D16"],[104,"T18 BULL"],[103,"T20 11 D16"],[102,"T20 10 D16"],[101,"T17 BULL"],[100,"T20 D20"],[99,"T20 7 D16"],[98,"T20 D19"],[97,"T19 D20"],[96,"T20 D18"],[95,"T19 D19"],[94,"T18 D20"],[93,"T19 D18"],[92,"T20 D16"],[91,"T17 D20"],[90,"T18 D18"],[89,"T19 D16"],[88,"T16 D20"],[87,"T17 D18"],[86,"T18 D16"],[85,"T15 D20"],[84,"T16 D18"],[83,"T17 D16"],[82,"BULL D16"],[81,"T15 D18"],[80,"T20 D10"],[79,"T19 D11"],[78,"T18 D12"],[77,"T19 D10"],[76,"T20 D8"],[75,"T17 D12"],[74,"T14 D16"],[73,"T15 D14"],[72,"T12 D18"],[71,"T17 D10"],[70,"T18 D8"],[69,"T19 D6"],[68,"T20 D4"],[67,"T17 D8"],[66,"T10 D18"],[65,"25 D20"],[64,"T16 D8"],[63,"T13 D12"],[62,"T10 D16"],[61,"T7 D20"],[60,"20 D20"],[59,"19 D20"],[58,"18 D20"],[57,"17 D20"],[56,"16 D20"],[55,"15 D20"],[54,"14 D20"],[53,"13 D20"],[52,"20 D16"],[51,"19 D16"],[50,"18 D16"],[49,"17 D16"],[48,"16 D16"],[47,"15 D16"],[46,"14 D16"],[45,"13 D16"],[44,"12 D16"],[43,"11 D16"],[42,"10 D16"],[41,"9 D16"],[40,"D20"],[39,"7 D16"],[38,"D19"],[37,"5 D16"],[36,"D18"],[35,"3 D16"],[34,"D17"],[33,"1 D6"],[32,"D16"],[31,"15 D8"],[30,"D15"],[29,"13 D8"],[28,"D14"],[27,"11 D8"],[26,"D13"],[25,"9 D8"],[24,"D12"],[23,"7 D8"],[22,"D11"],[21,"5 D8"],[20,"D10"],[21,"5 D8"],[19,"3 D8"],[18,"D9"],[17,"1 D8"],[16,"D8"],[15,"7 D4"],[14,"D7"],[13,"5 D4"],[12,"D6"],[11,"3 D4"],[10,"D5"],[9,"1 D4"],[8,"D4"],[7,"3 D2"],[6,"D3"],[5,"1 D2"],[4,"D2"],[3,"1 D1"],[2,"D1"]]);var v=a(6143),m=a(3634),O=a(3405);let U=(()=>{class s{constructor(e){this.gameStore=e,this.gameConfig=new d.p,this.gameStatus=new v.X,this.playerNameWhoStartedSubject=new O.xQ,this.gameStore.pipe((0,i.Ys)(l.s$)).subscribe(n=>{this.gameStatus=n.data,this.playerNameWhoStartedSubject.next(this.gameStatus.players[0].name)}),this.gameStore.pipe((0,i.Ys)(l.RO)).subscribe(n=>this.gameConfig=n.data)}updatePlayerPoints(e,n){const T=this.gameStatus.players.find(D=>D.name===e),h=T?this.gameStatus.players.indexOf(T):0;this.gameStore.dispatch(m.Lm(e,n)),T&&T.currentPoints-n==0&&(this.gameStore.dispatch(m.No(e,1)),this.gameStore.dispatch(m.jM(this.gameConfig)),this.playerNameWhoStartedSubject.next(this.gameStatus.players[(h+1)%this.gameStatus.players.length].name))}getPlayerNameWhoStartedSubject(){return this.playerNameWhoStartedSubject.asObservable()}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(i.yh))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var r=a(9010),f=a(7706),S=a(138);let Z=(()=>{class s{constructor(e,n){this.gameStore=e,this.gameStatusManagerService=n,this.name="",this.points="",this.sets="",this.legs="",this.doubleOutCombination=void 0}ngOnInit(){this.gameStore.pipe((0,i.Ys)(l.s$)).pipe((0,u.U)(e=>e.data.players)).subscribe(e=>{console.log("players: ",e);const n=e.find(T=>T.name===this.name);this.points=null==n?void 0:n.currentPoints.toString(),this.legs=null==n?void 0:n.legs.toString(),this.sets=null==n?void 0:n.sets.toString(),this.doubleOutCombination=b.get(Number(this.points))}),this.gameStatusManagerService.getPlayerNameWhoStartedSubject().subscribe(e=>{var n;e===this.name&&(null===(n=document.getElementById(`${this.name}-info-container`))||void 0===n||n.focus())})}updateCurrentPoints(e){this.gameStatusManagerService.updatePlayerPoints(this.name,e)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(i.yh),t.Y36(U))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-player-info"]],inputs:{name:"name",points:"points",sets:"sets",legs:"legs"},decls:11,vars:6,consts:[[1,"player-info",3,"id"],["form","ngForm"],["matInput","","type","number","name","currentPoints","ngModel","",1,"points-input",3,"keydown.enter"]],template:function(e,n){if(1&e){const T=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"h2"),t._uU(2),t.qZA(),t._uU(3),t.TgZ(4,"h1"),t._uU(5),t.qZA(),t._uU(6),t.TgZ(7,"form",null,1),t.TgZ(9,"mat-form-field"),t.TgZ(10,"input",2),t.NdJ("keydown.enter",function(){t.CHM(T);const D=t.MAs(8);return n.updateCurrentPoints(D.value.currentPoints)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.MGl("id","",n.name,"-info-container"),t.xp6(2),t.Oqu(n.name),t.xp6(1),t.AsE(" Legs: ",n.legs," Sets: ",n.sets," "),t.xp6(2),t.Oqu(n.points),t.xp6(1),t.hij("",n.doubleOutCombination," "))},directives:[r._Y,r.JL,r.F,f.KE,S.Nt,r.wV,r.Fj,r.JJ,r.On],styles:[".player-info[_ngcontent-%COMP%]{padding:1%;border:1px dotted black;text-align:center;background-color:#4b4640;color:#fff}.points-input[_ngcontent-%COMP%]{border-bottom:1px solid white}"]}),s})();function L(s,o){if(1&s&&(t.TgZ(0,"div"),t._UZ(1,"app-player-info",2),t._UZ(2,"br"),t.qZA()),2&s){const e=o.$implicit;t.xp6(1),t.s9C("name",e.name),t.s9C("sets",e.sets),t.s9C("legs",e.legs),t.s9C("points",e.currentPoints)}}const P=[{path:"",component:(()=>{class s{constructor(e){this.gameStore=e,this.playersStatus=[]}ngOnInit(){this.getPlayersStatus()}getPlayersStatus(){this.gameStore.pipe((0,i.Ys)(l.s$)).pipe((0,u.U)(e=>e.data.players)).subscribe(e=>{console.log("players: ",e),this.playersStatus=e})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(i.yh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-game-status"]],decls:4,vars:1,consts:[[1,"players-list"],[4,"ngFor","ngForOf"],[3,"name","sets","legs","points"]],template:function(e,n){1&e&&(t._UZ(0,"app-game-info-bar"),t._UZ(1,"br"),t.TgZ(2,"div",0),t.YNc(3,L,3,4,"div",1),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",n.playersStatus))},directives:[C,p.sg,Z],styles:[".players-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around}@media (max-width: 800px){.players-list[_ngcontent-%COMP%]{flex-direction:column}}"]}),s})()}];let G=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[c.Bz.forChild(P)],c.Bz]}),s})(),M=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[p.ez,G,S.c,f.lN,r.u5]]}),s})()}}]);