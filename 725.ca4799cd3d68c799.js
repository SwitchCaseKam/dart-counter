"use strict";(self.webpackChunkdart_scores_counter=self.webpackChunkdart_scores_counter||[]).push([[725],{8725:(B,u,s)=>{s.r(u),s.d(u,{GameStatusModule:()=>I});var r=s(6019),T=s(6511),i=s(607),y=s(8053),l=s(4835),t=s(3668),h=s(3405);let c=(()=>{class n{constructor(){this.points=0,this.pointsSubject=new h.xQ,this.shouldPassData=!1}setPoints(e){this.points=Number(e),this.pointsSubject.next(this.points)}setPointsSubject(){this.pointsSubject.next(this.points)}setPassData(e){this.shouldPassData=e}getPoints(){return this.pointsSubject.asObservable()}getShouldPassDataFlag(){return this.shouldPassData}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var b=s(1346);s(3779);let P=(()=>{class n{constructor(e){this.gameStore=e,this.points=0,this.legs={mode:"first to",value:1},this.sets={mode:"first to",value:1},this.gameConfigSubscription=new b.w}ngOnInit(){this.subscribeToGameConfig()}ngOnDestroy(){this.gameConfigSubscription.unsubscribe()}subscribeToGameConfig(){this.gameConfigSubscription=this.gameStore.pipe((0,i.Ys)(l.RO)).subscribe(e=>{this.points=e.points,this.legs=e.legs,this.sets=e.sets})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-game-info-bar"]],decls:11,vars:4,consts:[[1,"game-info-bar"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"br"),t._uU(2," Legs: "),t.TgZ(3,"b"),t._uU(4),t.qZA(),t._UZ(5,"br"),t._uU(6," Sets: "),t.TgZ(7,"b"),t._uU(8),t.qZA(),t._UZ(9,"br"),t._UZ(10,"br"),t.qZA()),2&e&&(t.xp6(4),t.AsE("",null==o.legs?null:o.legs.mode," ",null==o.legs?null:o.legs.value,""),t.xp6(4),t.AsE("",null==o.sets?null:o.sets.mode," ",null==o.sets?null:o.sets.value,""))},styles:[".game-info-bar[_ngcontent-%COMP%]{text-align:center;background-color:#c5f1c5cc}"]}),n})();function v(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){const D=t.CHM(e).$implicit;return t.oxw().clickButton(D)}),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e)}}let S=(()=>{class n{constructor(e){this.keyboardDataUpdaterService=e,this.currentPoints="",this.buttonNums=["1","2","3","4","5","6","7","8","9","CLR","0",">>"],this.passDataEvent=new t.vpe}ngOnInit(){}clickButton(e){switch(e){case"CLR":this.currentPoints=this.currentPoints.slice(0,-1);break;case">>":console.log("passed to store",this.currentPoints),this.keyboardDataUpdaterService.setPoints(this.currentPoints),this.currentPoints="";break;default:this.currentPoints+=e}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-keyboard"]],outputs:{passDataEvent:"passDataEvent"},decls:5,vars:2,consts:[[1,"keyboard-area"],[1,"keyboard-area__inserted-number"],[1,"keyboard","keyboard-area__keyboard"],["class","keyboard__single-button",3,"click",4,"ngFor","ngForOf"],[1,"keyboard__single-button",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"p",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,v,3,1,"div",3),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(o.currentPoints),t.xp6(2),t.Q6J("ngForOf",o.buttonNums))},directives:[r.sg],styles:[".keyboard-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;grid-gap:.1em;gap:.1em}.keyboard-area__inserted-number[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:50%;height:2em;font-size:2em;background-color:#fff;border:1px solid black;margin:.1em;background-color:gold}.keyboard[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(4,1fr);background-color:#fff;margin:.15em;width:100%}.keyboard__single-button[_ngcontent-%COMP%]{display:flex;justify-content:center;border:.5px solid rgb(0,0,0)}.keyboard__single-button[_ngcontent-%COMP%]:nth-last-child(1){background-color:#adff2f}.keyboard__single-button[_ngcontent-%COMP%]:nth-last-child(3){background-color:#da2e18}"]}),n})();var m=s(5722),g=s(9204),C=s(6143),O=s(3634);const d=new Map([[170,"T20 T20 BULL"],[169,"NO SHOTOUT"],[168,"NO SHOTOUT"],[167,"T20 T19 BULL"],[166,"NO SHOTOUT"],[165,"NO SHOTOUT"],[164,"T20 T18 BULL"],[163,"NO SHOTOUT"],[162,"NO SHOTOUT"],[161,"T20 T17 BULL"],[160,"T20 T20 D20"],[159,"NO SHOTOUT"],[158,"T20 T20 D19"],[157,"T20 T19 D20"],[156,"T20 T20 D18"],[155,"T20 T19 D19"],[154,"T20 T18 D20"],[153,"T20 T19 D18"],[152,"T20 T20 D16"],[151,"T20 T17 D20"],[150,"T20 T18 D18"],[149,"T20 T19 D16"],[148,"T20 T16 D20"],[147,"T19 T18 D18"],[146,"T20 T18 D16"],[145,"T20 T15 D20"],[144,"T18 T18 D18"],[143,"T20 T17 D16"],[142,"T19 T15 D20"],[141,"T18 T17 D18"],[140,"T20 T20 D10"],[139,"T17 T16 D20"],[138,"T18 T16 D18"],[137,"T19 T16 D16"],[136,"T16 T16 D20"],[135,"T18 T15 D18"],[134,"T20 T14 D16"],[133,"T20 T11 D20"],[132,"T20 T12 D18"],[131,"T19 T14 D16"],[130,"T20 20 BULL"],[129,"T19 T12 D18"],[128,"T18 T14 D16"],[127,"T20 T17 D8"],[126,"T19 19 BULL"],[125,"T20 T11 D16"],[124,"T18 20 BULL"],[123,"T19 T10 D18"],[122,"T18 T12 D16"],[121,"T20 T7 D20"],[120,"T20 20 D20"],[119,"T20 19 D20"],[118,"T20 18 D20"],[117,"T20 17 D20"],[116,"T20 16 D20"],[115,"T20 15 D20"],[114,"T20 14 D20"],[113,"T20 13 D20"],[112,"T20 20 D16"],[111,"T20 19 D16"],[110,"T20 18 D16"],[109,"T20 17 D16"],[108,"T20 16 D16"],[107,"T19 BULL"],[106,"T20 14 D16"],[105,"T20 13 D16"],[104,"T18 BULL"],[103,"T20 11 D16"],[102,"T20 10 D16"],[101,"T17 BULL"],[100,"T20 D20"],[99,"T20 7 D16"],[98,"T20 D19"],[97,"T19 D20"],[96,"T20 D18"],[95,"T19 D19"],[94,"T18 D20"],[93,"T19 D18"],[92,"T20 D16"],[91,"T17 D20"],[90,"T18 D18"],[89,"T19 D16"],[88,"T16 D20"],[87,"T17 D18"],[86,"T18 D16"],[85,"T15 D20"],[84,"T16 D18"],[83,"T17 D16"],[82,"BULL D16"],[81,"T15 D18"],[80,"T20 D10"],[79,"T19 D11"],[78,"T18 D12"],[77,"T19 D10"],[76,"T20 D8"],[75,"T17 D12"],[74,"T14 D16"],[73,"T15 D14"],[72,"T12 D18"],[71,"T17 D10"],[70,"T18 D8"],[69,"T19 D6"],[68,"T20 D4"],[67,"T17 D8"],[66,"T10 D18"],[65,"25 D20"],[64,"T16 D8"],[63,"T13 D12"],[62,"T10 D16"],[61,"T7 D20"],[60,"20 D20"],[59,"19 D20"],[58,"18 D20"],[57,"17 D20"],[56,"16 D20"],[55,"15 D20"],[54,"14 D20"],[53,"13 D20"],[52,"20 D16"],[51,"19 D16"],[50,"18 D16"],[49,"17 D16"],[48,"16 D16"],[47,"15 D16"],[46,"14 D16"],[45,"13 D16"],[44,"12 D16"],[43,"11 D16"],[42,"10 D16"],[41,"9 D16"],[40,"D20"],[39,"7 D16"],[38,"D19"],[37,"5 D16"],[36,"D18"],[35,"3 D16"],[34,"D17"],[33,"1 D6"],[32,"D16"],[31,"15 D8"],[30,"D15"],[29,"13 D8"],[28,"D14"],[27,"11 D8"],[26,"D13"],[25,"9 D8"],[24,"D12"],[23,"7 D8"],[22,"D11"],[21,"5 D8"],[20,"D10"],[21,"5 D8"],[19,"3 D8"],[18,"D9"],[17,"1 D8"],[16,"D8"],[15,"7 D4"],[14,"D7"],[13,"5 D4"],[12,"D6"],[11,"3 D4"],[10,"D5"],[9,"1 D4"],[8,"D4"],[7,"3 D2"],[6,"D3"],[5,"1 D2"],[4,"D2"],[3,"1 D1"],[2,"D1"]]);function U(n,a){1&n&&t._UZ(0,"img",5)}function Z(n,a){1&n&&t._UZ(0,"img",6)}function X(n,a){1&n&&t._UZ(0,"img",7)}const _=function(n){return{"background-color":n}};let x=(()=>{class n{constructor(e,o){this.gameStore=e,this.keyboardDataUpdaterService=o,this.playerData=(0,C.m)("",501),this.updatePointsFlag=!1,this.scoredPoints=0,this.doubleOutCombination=".",this.gameConfig=void 0}ngOnInit(){this.gameStore.pipe((0,i.Ys)(l.RO),(0,m.b)(e=>this.gameConfig=e),(0,g.w)(()=>this.gameStore.pipe((0,i.Ys)(l.s$))),(0,m.b)(e=>{const o=e.players.find(p=>p.name===this.playerData.name);o&&(this.playerData=o,this.doubleOutCombination=d.get(o.currentPoints)?d.get(o.currentPoints):".")}),(0,g.w)(()=>this.keyboardDataUpdaterService.getPoints())).subscribe(e=>{this.scoredPoints=e,console.log("scoredPoints in player",this.playerData.name," : ",e),this.gameConfig&&this.playerData.toThrow&&(console.log(this.playerData.name,this.playerData.toThrow),this.gameStore.dispatch(O.Lm(this.playerData.name,this.scoredPoints,this.gameConfig)),console.log("XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.yh),t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-player-info"]],inputs:{playerData:"playerData",updatePointsFlag:"updatePointsFlag"},decls:16,vars:13,consts:[[1,"player-info",3,"ngStyle"],[1,"head__game-status-icons"],["class","player-to-throw","src","https://img.icons8.com/fluency/48/000000/play.png",4,"ngIf"],["class","player-to-throw","src","https://img.icons8.com/ios-filled/50/000000/circled.png",4,"ngIf"],["class","player-to-throw","src","https://img.icons8.com/emoji/48/000000/green-circle-emoji.png",4,"ngIf"],["src","https://img.icons8.com/fluency/48/000000/play.png",1,"player-to-throw"],["src","https://img.icons8.com/ios-filled/50/000000/circled.png",1,"player-to-throw"],["src","https://img.icons8.com/emoji/48/000000/green-circle-emoji.png",1,"player-to-throw"]],template:function(e,o){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.YNc(3,U,1,0,"img",2),t.YNc(4,Z,1,0,"img",3),t.YNc(5,X,1,0,"img",4),t.qZA(),t.TgZ(6,"h2"),t._uU(7),t.ALo(8,"uppercase"),t.qZA(),t.TgZ(9,"h1"),t._uU(10),t.qZA(),t._uU(11),t.TgZ(12,"p"),t._uU(13),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngStyle",t.VKq(11,_,o.playerData.toThrow?"gold":"white")),t.xp6(2),t.Q6J("ngIf",o.playerData.toStart),t.xp6(1),t.Q6J("ngIf",!o.playerData.toThrow),t.xp6(1),t.Q6J("ngIf",o.playerData.toThrow),t.xp6(2),t.Oqu(t.lcZ(8,9,o.playerData.name)),t.xp6(3),t.Oqu(o.playerData.currentPoints),t.xp6(1),t.hij(" ",o.doubleOutCombination," "),t.xp6(2),t.hij("Legs: ",o.playerData.legs,""),t.xp6(2),t.hij("Sets: ",o.playerData.sets,""))},directives:[r.PC,r.O5],pipes:[r.gd],styles:[".player-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#fffc;border:.5px solid black;margin:.1em}.player-points[_ngcontent-%COMP%]{background-color:gold;font-size:1.5em;color:#000;border:2px solid salmon;text-align:center;margin:.1em}.player-info__start-info[_ngcontent-%COMP%]{font-size:.8em}.player-to-throw[_ngcontent-%COMP%]{width:1.25em;height:1.25em}.head[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;justify-items:center;min-width:50%}.head__game-status-icons[_ngcontent-%COMP%]{display:flex;align-items:center}h2[_ngcontent-%COMP%]{font-size:2em}"]}),n})();function k(n,a){if(1&n&&(t.TgZ(0,"div",3),t._UZ(1,"app-player-info",4),t.qZA()),2&n){const e=a.$implicit,o=t.oxw();t.xp6(1),t.Q6J("playerData",e)("updatePointsFlag",o.updatePoints)}}const L=[{path:"",component:(()=>{class n{constructor(e,o){this.gameStore=e,this.keyboardDataUpdaterService=o,this.allPlayersStatus=[],this.updatePoints=!1}ngOnInit(){this.getPlayersStatus(),this.getKeyboardUpdate()}getPlayersStatus(){this.gameStore.pipe((0,i.Ys)(l.s$)).pipe((0,y.U)(e=>e.players)).subscribe(e=>{this.allPlayersStatus=e})}getKeyboardUpdate(){}passDataEvent(e){console.log("pass data event = ",e),"stop"===e.toString()&&(console.log("a"),this.updatePoints=!this.updatePoints),this.updatePoints=!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.yh),t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-game-status"]],decls:4,vars:1,consts:[[1,"players-list"],["class","players-list__single-item",4,"ngFor","ngForOf"],[3,"passDataEvent"],[1,"players-list__single-item"],[3,"playerData","updatePointsFlag"]],template:function(e,o){1&e&&(t._UZ(0,"app-game-info-bar"),t.TgZ(1,"div",0),t.YNc(2,k,2,2,"div",1),t.qZA(),t.TgZ(3,"app-keyboard",2),t.NdJ("passDataEvent",function(D){return o.passDataEvent(D)}),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",o.allPlayersStatus))},directives:[P,r.sg,S,x],styles:[".players-list[_ngcontent-%COMP%]{display:flex}.players-list__single-item[_ngcontent-%COMP%]{flex-grow:1}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[T.Bz.forChild(L)],T.Bz]}),n})();var f=s(9010),w=s(138),A=s(7706);let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,M,w.c,A.lN,f.u5,f.UX]]}),n})()}}]);